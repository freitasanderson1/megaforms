{% extends 'base/base.html' %}
{% load static %}


{% block title %}Relatórios de Questionário{% endblock%}

{% block content %}

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<input type="hidden" id="urlApiRelatorios" name="urlApiRelatorios" value="/api/relatorios/{{slug}}">

<div class="container justify-content-center w-100 card-body shadow-lg bg-light rounded p-4 mt-4">
    <div id="selectPessoas" class="card m-2">
        <div class="card-header w-100 d-flex justify-content-between">
            <span class="fs-5 text-primary">Pessoas selecionadas no Relatório</span>
            <a id="controleSelect" class="btn btn-primary">
                Mostrar lista
            </a>

        </div>
        <div class="card-body d-none" id="collapsePessoas">
            <div class="my-2 row">
                {% for pessoa in pessoas %}
                
                    <div class="d-flex align-items-center col-3">
                        <input class="form-check-input p-3 m-2 checkboxPessoa"type="checkbox" id="pessoa-{{pessoa.id}}" name="pessoa-{{pessoa.id}}" value="{{pessoa.id}}" checked>
                        <label class="form-label text-black m-0" for="pessoa-{{pessoa.id}}">{{pessoa.nome}} {{pessoa.sobrenome}}</label>
                    </div>
                    
                {% endfor %}

            </div>
            <div class="d-flex justify-content-end">
                <a id="recarregarRelatorio" class="btn btn-primary">
                    Recarregar Relatório
                </a>
            </div>
        </div>
    </div>
    <div id="divLoading" class="d-flex justify-content-center align-items-center">
        <div class="spinner-border text-info m-2" role="status">
            <span class=""></span>
        </div>
        <span class="fs-5 text-info">Carregando Relatório</span>
    </div>
    <div id="containerRelatorio">

    </div>
</div>    

<script src="{% static "JS/RelatorioQuestionario.js" %}"></script>

{% endblock %}
